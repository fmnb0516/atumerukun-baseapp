<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="utf-8">
		<title>Torasan Admin</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.minty.min.css" media="screen">
		<link rel="stylesheet" href="lib/toast/toast.css" media="screen">
	</head>
	<body>
		
		<div class="navbar navbar-expand-lg fixed-top navbar-dark bg-primary">
			<div class="container">
				<a href="#" class="navbar-brand">Torasan Admin</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarResponsive">
					<ul class="navbar-nav">
						<li class="nav-item">
							<a class="nav-link" href="webcrawlers.html">Crawlers</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="pageresults.html">Results</a>
						</li>
					</ul>
					
					<ul class="nav navbar-nav ml-auto">
						<li class="nav-item">
							<a class="nav-link" href="#" target="_blank">Dev Torasan Admin</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
		
		<div class="container" style="padding-top: 80px;">

			<div class="row">
				<div class="col-lg-12">
					<form id="upload-form" method="POST" action="../file/upload" enctype="multipart/form-data">
						<div class="form-group">
							<label for="file">File input</label>
							<input type="file" class="form-control-file" id="file" name="file" aria-describedby="fileHelp">
						</div>
						<button type="submit" class="btn btn-primary">UPLOAD</button>
					</form>
				</div>
			</div>

		</div>
		
		<script type="text/javascript" src="lib/jquery/jquery-3.3.1.min.js"></script>
		<script type="text/javascript" src="lib/handlebars/handlebars-v4.1.0.js"></script>
		<script type="text/javascript" src="lib/bootstrap/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="lib/toast/toast.js"></script>
		<script type="text/javascript" src="lib/app/application.js"></script>
		
		<script type="text/javascript">
		
			$(function() {
				var app = application.create();

				$("#upload-form").submit(function(e) {
					alert("");
					
					var $form = $(this);
					var formdata = new FormData($form.get(0));

					application.request({
							method : $form.attr("method"),
							url : $form.attr("action"),
							data: formdata,
							cache       : false,
							contentType : false,
							processData : false,
					}).then(function(data) {
						application.toast("info", "ファイルをアップロードしました");
					});

					return false;
				});
			});			
		</script>
	</body>
</html>